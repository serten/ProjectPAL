-- ALERTZONE TABLE
CREATE TABLE ALERTZONE (
    ZONEID  SERIAL PRIMARY KEY,
	USERID INT REFERENCES PALUSER(USERID),
	ZONECREATETIME TIMESTAMP,
	ZONEACTIVATED INT,
	ZONECOORDINATES GEOMETRY(Polygon, 4326)
);

--creating index
CREATE INDEX ALERTZONE_gix
  ON ALERTZONE
  USING GIST (ZONECOORDINATES); 

--sample insert for polygon
--
INSERT INTO ALERTZONE ( USERID, ZONECREATETIME, ZONEACTIVATED, ZONECOORDINATES)VALUES (
'1',
TIMESTAMP '1997-01-31 09:26:50.12',
'0',
ST_GeomFromText('POLYGON((34.018665999999996 -118.282337, 34.018114 -118.291551, 34.025272 -118.285748, 34.018665999999996 -118.282337))', 4326) --note begin and end point should be same
);

--DROP Method
DROP INDEX ALERTZONE_gix;
DROP TABLE ALERTZONE;